<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>

</html>
<script>
    let persons = [
        { "name": "Mimi", "age": 23 },
        { "name": "Kiki", "age": 38 },
        { "name": "Nini", "age": 63 },
        { "name": "Lili", "age": 26 },
        { "name": "Sisi", "age": 13 },
        { "name": "Kelly", "age": 87 }
    ];

    console.log(persons[0].name);
    console.log(persons[0]["name"]);

    // in 연산자 : index값을 가져옴
    persons[0].name = "고길동";
    for (i in persons)
        console.log(i, persons[i].name, persons[i].age);
    
    //of연산자 : 각 객체를 하나씩 가져온다
    for (ob of persons)
        console.log(ob.name, ob.age);
    
    //forEach -  많이 사용한다
    persons.forEach((e) => {
        console.log(e.name, e.age);
    })


    let name = "Sisi";
    let search = persons.find((item) => {
        // typeof -> object
        return item.name == name;
    });

    if (search == undefined) {
        console.log(`${name}은 없습니다`);
    } else {
        console.log(search.name, search.age);
    }

    search = persons.filter((per) => per.age >= 30);
    console.log(`30대 이상인 사람은 ${search[0].name},${search[1].name},${search[2].name}입니다`);
    console.log(`30대 이상인 사람은 ${search.length}명입니다`);

    search = persons.filter((per) =>
        per.name[0] == "K"
    );

    console.log(`K씨는 ${search[0].name},${search[1].name}입니다`);

    let sum = search.reduce((acc, cur, i) => {
        return acc.age + cur.age;
    }
    );
    console.log(sum);

    // 중간연산 : 반환값이 객체배열,
    // 최종연산 : 반환값이 없음, forEach
    search = persons.filter((per) =>
        per.name[0] == "K"
    ).reduce((prev, cur) => prev.age + cur.age);
    console.log(search);


    // 정렬 : 이름순으로
    s1 = "test1";
    s2 = "test";

    // 문자열 비교연산 가능!
    console.log(s1 > s2);  //true
    console.log(s1 == s2); //false
    console.log(s1 < s2);  //false


    persons.sort((obj1, obj2) => {
        if (obj1.name > obj2.name)
            return 1;
        else if (obj1.name == obj2.name)
            return 0;
        else
            return -1;
    });

    console.log(persons);
</script>